<div class="wrapper">
  <div
    class="note"
    *ngFor="let note of $notes | async"
    (click)="openNote(note.id)"
    [routerLink]="['/note', note.id]"
    routerLinkActive="active"
  >
    <span>{{ note.title }}</span>
  </div>
  <div class="add-btn" (click)="togglePopUp()">
    <span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 40 40"
        width="40px"
        height="40px"
      >
        <path
          fill="#98ccfd"
          d="M20,38.5C9.799,38.5,1.5,30.201,1.5,20S9.799,1.5,20,1.5S38.5,9.799,38.5,20S30.201,38.5,20,38.5z"
        />
        <path
          fill="#4788c7"
          d="M20,2c9.925,0,18,8.075,18,18s-8.075,18-18,18S2,29.925,2,20S10.075,2,20,2 M20,1 C9.507,1,1,9.507,1,20s8.507,19,19,19s19-8.507,19-19S30.493,1,20,1L20,1z"
        />
        <g>
          <path
            fill="#fff"
            d="M30 18L22 18 22 10 18 10 18 18 10 18 10 22 18 22 18 30 22 30 22 22 30 22z"
          />
        </g>
      </svg>
    </span>
  </div>
  <ng-container *ngIf="modalIsOpened">
    <div class="overlay" (click)="togglePopUp()"></div>
    <div class="modal">
      <div class="close" (click)="togglePopUp()">
        <svg
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.46972 4.46962C4.76264 4.17675 5.23752 4.1768 5.53038 4.46972L11.9988 10.9393L18.4697 4.46962C18.7626 4.17675 19.2375 4.1768 19.5304 4.46972C19.8232 4.76264 19.8232 5.23752 19.5303 5.53038L13.06 11.9994L19.5303 18.4697C19.8232 18.7626 19.8232 19.2374 19.5303 19.5303C19.2374 19.8232 18.7626 19.8232 18.4697 19.5303L12 13.0607L5.53033 19.5303C5.23744 19.8232 4.76256 19.8232 4.46967 19.5303C4.17678 19.2374 4.17678 18.7626 4.46967 18.4697L10.9387 12.0006L4.46962 5.53028C4.17675 5.23736 4.1768 4.76248 4.46972 4.46962Z"
            fill="#25225D"
          />
        </svg>
      </div>
      <h3 class="title">Add new note</h3>
      <form
        *ngIf="newNoteForm"
        [formGroup]="newNoteForm"
        (ngSubmit)="saveNote()"
        class="form"
      >
        <div class="container">
          <div class="input">
            <label for="title">Title</label>
            <input formControlName="title" id="title" />
          </div>
          <div class="input">
            <label for="content">Content</label>
            <textarea formControlName="content" id="content"></textarea>
          </div>
        </div>
        <div class="button">
          <button *ngIf="newNoteForm" [disabled]="newNoteForm.invalid">
            Save
          </button>
        </div>
      </form>
    </div>
  </ng-container>
</div>
